(self["webpackChunkdinojuice"]=self["webpackChunkdinojuice"]||[]).push([[839],{4839:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>K});var n=o(3673),i=o(8880),a=o(2323),l=o(9454),s=o.n(l);const r=(0,n.Uk)(" Dino Juice Delivery App "),d={style:{cursor:"pointer"}},u=(0,n.Wm)("div",{class:"text-h6"},"Settings",-1),c=(0,n.Uk)(),p={class:"text-weight-medium text-secondary",style:{"margin-left":"20px"}},m=(0,n.Uk)(),f={class:"text-weight-medium text-secondary",style:{"margin-left":"20px"}},h=(0,n.Uk)(),w={class:"text-weight-medium text-secondary",style:{"margin-left":"20px"}};function g(e,t,o,l,g,k){const v=(0,n.up)("q-btn"),b=(0,n.up)("q-toolbar-title"),M=(0,n.up)("q-toolbar"),y=(0,n.up)("q-header"),D=(0,n.up)("q-img"),W=(0,n.up)("EssentialLink"),S=(0,n.up)("q-list"),q=(0,n.up)("q-drawer"),x=(0,n.up)("q-card-section"),Z=(0,n.up)("q-card-actions"),_=(0,n.up)("q-card"),Q=(0,n.up)("q-dialog"),C=(0,n.up)("router-view"),j=(0,n.up)("q-page-container"),L=(0,n.up)("q-layout"),B=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(L,{view:"lHh Lpr lFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{elevated:"",bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(M,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[r])),_:1}),(0,n.Wm)("div",null,[(0,n.Wm)(i.uT,{appear:"","enter-active-class":"animated jackInTheBox slow","leave-active-class":"animated bounceOutLeft slow"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{icon:"fas fa-cogs",onClick:t[1]||(t[1]=e=>this.settingsDialog=!0)})])),_:1})])])),_:1})])),_:1}),(0,n.Wm)(q,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:"",mini:e.miniState,onMouseover:t[3]||(t[3]=t=>e.miniState=!1),onMouseout:t[4]||(t[4]=t=>e.miniState=!0),width:200,breakpoint:500},{default:(0,n.w5)((()=>[(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[(0,n.Wm)("a",d,[(0,n.Wm)(i.uT,{appear:"","enter-active-class":"animated jackInTheBox slower","leave-active-class":"animated jackInTheBox slower"},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{src:s(),"spinner-color":"white",style:e.imageGrow,onClick:e.goHome},null,8,["style","onClick"])])),_:1})]),!0===this.storeMode?((0,n.wg)(!0),(0,n.j4)(n.HY,{key:0},(0,n.Ko)(e.essentialLinks,(e=>((0,n.wg)(),(0,n.j4)(W,(0,n.dG)({key:e.title},e),null,16)))),128)):((0,n.wg)(!0),(0,n.j4)(n.HY,{key:1},(0,n.Ko)(e.essentialLinksFiltered,(e=>((0,n.wg)(),(0,n.j4)(W,(0,n.dG)({key:e.title},e),null,16)))),128))])),_:1})])),_:1},8,["modelValue","mini"]),(0,n.Wm)("div",null,[(0,n.Wm)(Q,{modelValue:e.settingsDialog,"onUpdate:modelValue":t[8]||(t[8]=t=>e.settingsDialog=t),persistent:"","transition-show":"slide-down","transition-hide":"rotate"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{style:{"min-width":"350px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[u])),_:1}),(0,n.Wm)(x,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{icon:e.$q.dark.isActive?"far fa-sun":"far fa-moon",onClick:t[5]||(t[5]=t=>e.$q.dark.toggle())},null,8,["icon"]),c,(0,n.Wm)("span",p,(0,a.zw)(e.darkModeString),1)])),_:1}),(0,n.Wm)(x,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{icon:this.desktopMode?"fas fa-mobile":"fas fa-desktop",onClick:t[6]||(t[6]=t=>e.forceDesktopMode(this.desktopMode))},null,8,["icon"]),m,(0,n.Wm)("span",f,(0,a.zw)(e.forceDesktopModeString),1)])),_:1}),(0,n.Wm)(x,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{icon:this.storeMode?"fas fa-truck-moving":"fas fa-store-alt",onClick:t[7]||(t[7]=t=>e.forceStoreMode(this.storeMode))},null,8,["icon"]),h,(0,n.Wm)("span",w,(0,a.zw)(e.forceStoreModeString),1)])),_:1}),(0,n.Wm)(Z,{align:"right",class:"text-accent"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(v,{flat:"",label:"Cancel"},null,512),[[B]]),(0,n.wy)((0,n.Wm)(v,{flat:"",label:"Save"},null,512),[[B]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,n.Wm)(j,null,{default:(0,n.w5)((()=>[(0,n.Wm)(C)])),_:1})])),_:1})}function k(e,t,o,i,l,s){const r=(0,n.up)("q-icon"),d=(0,n.up)("q-item-section"),u=(0,n.up)("q-item-label"),c=(0,n.up)("q-item"),p=(0,n.Q2)("ripple");return(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",to:e.link},{default:(0,n.w5)((()=>[e.icon?((0,n.wg)(),(0,n.j4)(d,{key:0,avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{name:e.icon},null,8,["name"])])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.title),1)])),_:1}),(0,n.Wm)(u,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["to"])),[[p]])}const v=(0,n.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}});var b=o(3414),M=o(2035),y=o(4554),D=o(2350),W=o(6489),S=o(7518),q=o.n(S);v.render=k;const x=v;q()(v,"components",{QItem:b.Z,QItemSection:M.Z,QIcon:y.Z,QItemLabel:D.Z}),q()(v,"directives",{Ripple:W.Z});var Z=o(2942),_=function(e,t,o,n){function i(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,a){function l(e){try{r(n.next(e))}catch(t){a(t)}}function s(e){try{r(n["throw"](e))}catch(t){a(t)}}function r(e){e.done?o(e.value):i(e.value).then(l,s)}r((n=n.apply(e,t||[])).next())}))};const Q=[{title:"Deliver Fuel",icon:"fas fa-gas-pump",link:"/Delivery"},{title:"Delivery History",icon:"fas fa-book",link:"/History"}],C=[{title:"Deliver Fuel",icon:"fas fa-gas-pump",link:"/Delivery"}],j="TEST",L=1,B=(0,n.aZ)({name:"MainLayout",components:{EssentialLink:x},data(){return{leftDrawerOpen:!1,essentialLinks:Q,settingsDialog:!1,miniState:!1,desktopMode:!1,storeMode:!1,essentialLinksFiltered:C}},methods:{toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},imageGrow(){return!0===this.miniState?"height: 70px; max-width: 75px":"height: 140px; max-width: 150px"},goHome(){this.$router.push({path:"/"})},forceDesktopMode(e){!1===this.desktopMode?this.desktopMode=!0:this.desktopMode=!1,Z.db.collection("forceDesktopMode").doc("toggle").update({desktopMode:e})},forceStoreMode(e){!1===this.storeMode?this.storeMode=!0:this.storeMode=!1},getDb(){return _(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{const o=window.indexedDB.open(j,L);o.onerror=e=>{console.log("Error opening db",e),t("Error")},o.onsuccess=t=>{e(t.target.result)},o.onupgradeneeded=e=>{console.log("onupgradeneeded");const t=e.target.result;t.createObjectStore("bols",{autoIncrement:!0,keyPath:"id"})}}))}))},getBolsFromDb(){return _(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{const o=this.db.transaction(["bols"],"readonly");o.oncomplete=t=>{e(i)};const n=o.objectStore("bols"),i=[];n.openCursor().onsuccess=e=>{const t=e.target.result;t&&(i.push(t.value),t.continue())}}))}))},addBol(){return _(this,void 0,void 0,(function*(){const e={BolNumber:Math.floor(100*Math.random()),Gallons:Math.floor(10*Math.random())+1};console.log("about to add "+JSON.stringify(e)),yield this.addBolToDb(e),this.bols=yield this.getBolsFromDb()}))},addBolToDb(e){return _(this,void 0,void 0,(function*(){return new Promise(((t,o)=>{const n=this.db.transaction(["bols"],"readwrite");n.oncomplete=e=>{t()};const i=n.objectStore("bols");i.add(e)}))}))}},computed:{darkModeString:function(){return this.$q.dark.isActive?"Too spooky, turn on the lights!":"Dark Mode"},forceDesktopModeString(){return this.desktopMode?"Mobile Responsive Mode":"Force Desktop Mode"},forceStoreModeString(){return this.storeMode?"Switch to Driver Mode":"Switch to Store Mode"}},created(){return _(this,void 0,void 0,(function*(){this.db=yield this.getDb(),this.bols=yield this.getBolsFromDb(),this.addBol(),this.ready=!0}))},provide(){return{desktopMode:(0,n.Fl)((()=>this.desktopMode)),storeMode:(0,n.Fl)((()=>this.storeMode))}}});var T=o(3066),F=o(3812),I=o(9570),H=o(8240),O=o(3747),U=o(2901),P=o(7011),E=o(4027),V=o(6778),z=o(151),G=o(5589),A=o(9367),$=o(2652),J=o(677);B.render=g;const K=B;q()(B,"components",{QLayout:T.Z,QHeader:F.Z,QToolbar:I.Z,QBtn:H.Z,QToolbarTitle:O.Z,QDrawer:U.Z,QList:P.Z,QImg:E.Z,QDialog:V.Z,QCard:z.Z,QCardSection:G.Z,QCardActions:A.Z,QPageContainer:$.Z}),q()(B,"directives",{ClosePopup:J.Z})},9454:(e,t,o)=>{e.exports=o.p+"img/dinojuice.4de2cb4d.png"}}]);