(self["webpackChunkdinojuice"]=self["webpackChunkdinojuice"]||[]).push([[305],{3305:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Re});var a=l(3673),i=l(2323),s=l(9454),o=l.n(s);const r={class:"q-pa-md"},n={class:"text-h5"},u={class:"text-center"},m=(0,a.Wm)("div",{class:"text-h6"}," Located at: ",-1),d=(0,a.Wm)("div",{class:"text-subtitle2 text-center"}," is this correct? ",-1),c={align:"center",class:"text-primary"},p=(0,a.Wm)("div",{class:"text-subtitle2 text-center"}," let's try that again ",-1),h={class:"text-h5"},g={class:"text-center"},w=(0,a.Wm)("div",{class:"text-h6"}," Located at: ",-1),y=(0,a.Wm)("div",{class:"text-subtitle2 text-center"}," is this correct? ",-1),b={align:"center",class:"text-primary"},k=(0,a.Wm)("div",{class:"text-h5"},"Please select a Store Number",-1),v={class:"col absolute-center"},f=(0,a.Uk)(" No results "),W={class:"text-h5 text-center q-pt-md"},_={class:"text-center"},S=(0,a.Wm)("div",{class:"text-h6"}," Located at: ",-1),D=(0,a.Wm)("div",{class:"text-h6"},null,-1),T={align:"center",class:"text-primary"},F={class:"fit row wrap justify-start items-start content-start q-gutter-lg"},L={class:"row"},U={class:"col"},x={class:"q-pa-md",style:{"max-width":"300px"}},V={class:"row items-center justify-end"},P={class:"row items-center justify-end"},I={class:"row"},C={class:"col"},N=(0,a.Uk)("Add this BOL to Delivery"),A=(0,a.Wm)("span",{class:"q-pl-xs"}," Add this BOL to Delivery ",-1),E=(0,a.Wm)("div",{class:"text-h6"},"Would you Like to Take a Photo of the BOL?",-1),q={align:"center",class:"text-primary"},z=(0,a.Wm)("div",{class:"text-h6"},"Take a Photo of the BOL",-1),O={align:"center",class:"text-primary"},j=(0,a.Wm)("div",{class:"text-h6"},"Take a Photo of the BOL",-1),G={align:"center",class:"text-primary"},M=(0,a.Wm)("span",{class:"q-pl-xs"}," Delete this BOL ",-1),B=(0,a.Uk)(" Delivery In Progress "),Z={class:"fit row wrap justify-start items-start content-start q-gutter-lg"},$=(0,a.Wm)("img",{src:o()},null,-1),Q={class:"tinyTextWrapper"},H=(0,a.Wm)("b",null,"Percent Full:",-1),R=(0,a.Wm)("b",null,"Tank Number:",-1),Y=(0,a.Wm)("b",null,"Grade:",-1),K=(0,a.Wm)("b",null,"Gallons:",-1),J=(0,a.Wm)("b",null,"Ullage:",-1),X=(0,a.Wm)("b",null,"Capacity:",-1),ee=(0,a.Uk)(" End Delivery "),te={class:"fit row wrap justify-start items-start content-start q-gutter-lg"},le=(0,a.Wm)("img",{src:o()},null,-1),ae={class:"tinyTextWrapper"},ie=(0,a.Wm)("b",null,"Percent Full:",-1),se=(0,a.Wm)("b",null,"Tank Number:",-1),oe=(0,a.Wm)("b",null,"Grade:",-1),re=(0,a.Wm)("b",null,"Gallons:",-1),ne=(0,a.Wm)("b",null,"Ullage:",-1),ue=(0,a.Wm)("b",null,"Capacity:",-1),me=(0,a.Uk)(" Delivery Complete "),de=(0,a.Uk)(" Delivery In Progress "),ce=(0,a.Uk)(" End Delivery "),pe=(0,a.Uk)(" Delivery Complete! "),he=(0,a.Uk)(" The final step is creating the ad... ");function ge(e,t,l,s,o,ge){const we=(0,a.up)("q-card-section"),ye=(0,a.up)("q-btn"),be=(0,a.up)("q-card"),ke=(0,a.up)("q-dialog"),ve=(0,a.up)("q-item-section"),fe=(0,a.up)("q-item"),We=(0,a.up)("q-select"),_e=(0,a.up)("q-input"),Se=(0,a.up)("q-date"),De=(0,a.up)("q-popup-proxy"),Te=(0,a.up)("q-icon"),Fe=(0,a.up)("q-time"),Le=(0,a.up)("q-tooltip"),Ue=(0,a.up)("q-card-actions"),xe=(0,a.up)("vue-web-cam"),Ve=(0,a.up)("q-img"),Pe=(0,a.up)("q-form"),Ie=(0,a.up)("q-step"),Ce=(0,a.up)("q-avatar"),Ne=(0,a.up)("q-knob"),Ae=(0,a.up)("q-stepper-navigation"),Ee=(0,a.up)("q-banner"),qe=(0,a.up)("q-stepper"),ze=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)("div",r,[e.locationSelected||e.storeMode.value?((0,a.wg)(),(0,a.j4)(qe,{key:1,modelValue:e.step,"onUpdate:modelValue":t[39]||(t[39]=t=>e.step=t),ref:"stepper",color:"primary",animated:""},{navigation:(0,a.w5)((()=>[(0,a.Wm)(Ae,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ye,{onClick:t[37]||(t[37]=t=>e.$refs.stepper.next()),disable:0===e.bolList.filter((e=>0!==Object.keys(e).length)).length,color:"primary",label:4===e.step?"Finish":"Continue"},null,8,["disable","label"]),e.step>1?((0,a.wg)(),(0,a.j4)(ye,{key:0,flat:"",color:"primary",onClick:t[38]||(t[38]=t=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):(0,a.kq)("",!0)])),_:1})])),message:(0,a.w5)((()=>[1===e.step?((0,a.wg)(),(0,a.j4)(Ee,{key:0,class:"bg-green-8 text-white q-px-lg"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Enter BOL Info for Store "+(0,i.zw)(this.selectedStore),1)])),_:1})):2===e.step?((0,a.wg)(),(0,a.j4)(Ee,{key:1,class:"bg-purple-8 text-white q-px-lg"},{default:(0,a.w5)((()=>[de])),_:1})):3===e.step?((0,a.wg)(),(0,a.j4)(Ee,{key:2,class:"bg-blue-8 text-white q-px-lg"},{default:(0,a.w5)((()=>[ce])),_:1})):4===e.step?((0,a.wg)(),(0,a.j4)(Ee,{key:3,class:"bg-orange-8 text-white q-px-lg"},{default:(0,a.w5)((()=>[pe])),_:1})):((0,a.wg)(),(0,a.j4)(Ee,{key:4,class:"bg-blue-8 text-white q-px-lg"},{default:(0,a.w5)((()=>[he])),_:1}))])),default:(0,a.w5)((()=>[(0,a.Wm)(Ie,{name:1,title:"Enter BOL Information",icon:"settings",done:e.step>1,style:{"min-height":"200px"}},{default:(0,a.w5)((()=>[(0,a.Wm)("div",F,[(0,a.Wm)(Pe,{onSubmit:e.onSubmit,onReset:e.onReset},{default:(0,a.w5)((()=>[(0,a.Wm)("div",L,[(0,a.Wm)("div",U,[(0,a.Wm)(_e,{filled:"",modelValue:e.entryForm.bolNumber,"onUpdate:modelValue":t[10]||(t[10]=t=>e.entryForm.bolNumber=t),label:"BOL Number","lazy-rules":"",dense:"",class:"q-pa-sm",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,a.Wm)(We,{filled:"",modelValue:e.entryForm.carrier,"onUpdate:modelValue":t[11]||(t[11]=t=>e.entryForm.carrier=t),label:"Carrier","lazy-rules":"",dense:"","options-dense":"",clearable:"",class:"q-pa-sm",style:{"max-width":"200px"},options:e.carrierOptions},null,8,["modelValue","options"])])]),(0,a.Wm)(We,{filled:"",modelValue:e.entryForm.driverName,"onUpdate:modelValue":t[12]||(t[12]=t=>e.entryForm.driverName=t),label:"Driver Name","lazy-rules":"",dense:"","options-dense":"",clearable:"",class:"q-pa-sm",style:{"max-width":"200px"},options:e.driverOptions},null,8,["modelValue","options"]),(0,a.Wm)(_e,{filled:"",modelValue:e.entryForm.tractor,"onUpdate:modelValue":t[13]||(t[13]=t=>e.entryForm.tractor=t),label:"Tractor","lazy-rules":"",dense:"",class:"q-pa-sm",style:{"max-width":"200px"},rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,a.Wm)(_e,{filled:"",modelValue:e.entryForm.trailer,"onUpdate:modelValue":t[14]||(t[14]=t=>e.entryForm.trailer=t),label:"Trailer","lazy-rules":"",dense:"",class:"q-pa-sm",style:{"max-width":"200px"},rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,a.Wm)("div",x,[(0,a.Wm)(_e,{filled:"",modelValue:e.entryForm.loadingDate,"onUpdate:modelValue":t[17]||(t[17]=t=>e.entryForm.loadingDate=t),label:"Loading Date"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(Te,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(De,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(Se,{modelValue:e.entryForm.loadingDate,"onUpdate:modelValue":t[15]||(t[15]=t=>e.entryForm.loadingDate=t),mask:"YYYY-MM-DD HH:mm"},{default:(0,a.w5)((()=>[(0,a.Wm)("div",V,[(0,a.wy)((0,a.Wm)(ye,{label:"Close",color:"primary",flat:""},null,512),[[ze]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:(0,a.w5)((()=>[(0,a.Wm)(Te,{name:"access_time",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(De,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(Fe,{modelValue:e.entryForm.loadingDate,"onUpdate:modelValue":t[16]||(t[16]=t=>e.entryForm.loadingDate=t),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:(0,a.w5)((()=>[(0,a.Wm)("div",P,[(0,a.wy)((0,a.Wm)(ye,{label:"Close",color:"primary",flat:""},null,512),[[ze]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(We,{filled:"",modelValue:e.entryForm.terminal,"onUpdate:modelValue":t[18]||(t[18]=t=>e.entryForm.terminal=t),label:"Terminal","lazy-rules":"",dense:"","options-dense":"",clearable:"",class:"q-pa-sm",style:{"max-width":"200px"},options:e.terminalOptions},null,8,["modelValue","options"]),(0,a.Wm)(We,{filled:"",modelValue:e.entryForm.supplier,"onUpdate:modelValue":t[19]||(t[19]=t=>e.entryForm.supplier=t),label:"Supplier","lazy-rules":"",dense:"","options-dense":"",clearable:"",class:"q-pa-sm",style:{"max-width":"200px"},options:e.supplierOptions},null,8,["modelValue","options"]),(0,a.Wm)(We,{filled:"",modelValue:e.entryForm.tank,"onUpdate:modelValue":t[20]||(t[20]=t=>e.entryForm.tank=t),label:"Tank","lazy-rules":"",dense:"","options-dense":"",clearable:"",class:"q-pa-sm",style:{"max-width":"200px"},options:e.tankOptions},null,8,["modelValue","options"]),(0,a.Wm)(We,{filled:"",modelValue:e.entryForm.product,"onUpdate:modelValue":t[21]||(t[21]=t=>e.entryForm.product=t),label:"Product","lazy-rules":"",dense:"","options-dense":"",clearable:"",class:"q-pa-sm",style:{"max-width":"200px"},options:e.productOptions},null,8,["modelValue","options"]),(0,a.Wm)(_e,{filled:"",modelValue:e.entryForm.gross,"onUpdate:modelValue":t[22]||(t[22]=t=>e.entryForm.gross=t),label:"Gross","lazy-rules":"true",dense:"",class:"q-pa-sm",style:{"max-width":"200px"},rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,a.Wm)(_e,{filled:"",modelValue:e.entryForm.net,"onUpdate:modelValue":t[23]||(t[23]=t=>e.entryForm.net=t),label:"Net","lazy-rules":"",dense:"",class:"q-pa-sm",style:{"max-width":"200px"},rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),!0===e.isSplitLoad?((0,a.wg)(),(0,a.j4)(We,{key:0,filled:"",modelValue:e.entryForm.splitLoadStore,"onUpdate:modelValue":t[24]||(t[24]=t=>e.entryForm.splitLoadStore=t),label:"Split Load Store","lazy-rules":"",dense:"","options-dense":"",clearable:"",class:"q-pa-sm",style:{"max-width":"200px"},options:e.splitLoadStoreOptions},null,8,["modelValue","options"])):(0,a.kq)("",!0),(0,a.Wm)("div",I,[(0,a.Wm)("div",C,[(0,a.Wm)(ye,{icon:"fas fa-plus",onClick:t[25]||(t[25]=t=>e.takePhotoDialogPrompt=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(Le,{class:"bg-accent"},{default:(0,a.w5)((()=>[N])),_:1}),A])),_:1})])]),(0,a.Wm)(ke,{modelValue:e.takePhotoDialogPrompt,"onUpdate:modelValue":t[30]||(t[30]=t=>e.takePhotoDialogPrompt=t),persistent:"","transition-show":"slide-down","transition-hide":"rotate"},{default:(0,a.w5)((()=>[(0,a.Wm)(be,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[E])),_:1}),(0,a.Wm)("div",q,[(0,a.Wm)(ye,{onClick:t[26]||(t[26]=t=>{e.takePhoto=!0}),flat:"",label:"Take Photo"}),(0,a.Wm)(ye,{onClick:t[27]||(t[27]=t=>{e.noThanksClicked=!0}),flat:"",label:"No Thanks"})]),(0,a.Wm)(Ue,{align:"center",class:"text-accent"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(ye,{flat:"",onClick:t[28]||(t[28]=t=>e.takePhotoDialog=!1),label:"Cancel"},null,512),[[ze]]),!0===this.photoTaken||!0===this.noThanksClicked?(0,a.wy)(((0,a.wg)(),(0,a.j4)(ye,{key:0,onClick:t[29]||(t[29]=t=>e.addBolToDelivery(this.entryForm)),flat:"",label:"Save"},null,512)),[[ze]]):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ke,{modelValue:e.takePhoto,"onUpdate:modelValue":t[32]||(t[32]=t=>e.takePhoto=t),persistent:"","transition-show":"slide-up","transition-hide":"rotate"},{default:(0,a.w5)((()=>[(0,a.Wm)(be,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[z])),_:1}),(0,a.Wm)("div",O,[(0,a.Wm)(xe,{ref:"webcam",class:"full-width",selectFirstDevice:!0},null,512),(0,a.Wm)(ye,{onClick:e.snapPhoto,flat:"",label:"Capture"},null,8,["onClick"])]),(0,a.Wm)(Ue,{align:"center",class:"text-accent"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(ye,{flat:"",onClick:t[31]||(t[31]=t=>e.takePhotoDialog=!1),label:"Cancel"},null,512),[[ze]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ke,{modelValue:e.imagePreviewDialog,"onUpdate:modelValue":t[36]||(t[36]=t=>e.imagePreviewDialog=t),persistent:"","transition-show":"slide-up","transition-hide":"rotate"},{default:(0,a.w5)((()=>[(0,a.Wm)(be,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[j])),_:1}),(0,a.Wm)("div",G,[(0,a.Wm)(Ve,{src:`data:image/png;base64,${this.cleanedString}`},null,8,["src"]),(0,a.wy)((0,a.Wm)(ye,{onClick:t[33]||(t[33]=t=>e.saveImageToBol(this.cleanedString)),flat:"",label:"Save"},null,512),[[ze]]),(0,a.wy)((0,a.Wm)(ye,{onClick:t[34]||(t[34]=e=>this.imagePreviewDialog=!1),flat:"",label:"Try Again"},null,512),[[ze]])]),(0,a.Wm)(Ue,{align:"center",class:"text-accent"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(ye,{flat:"",onClick:t[35]||(t[35]=t=>e.takePhotoDialog=!1),label:"Cancel"},null,512),[[ze]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1},8,["onSubmit","onReset"]),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.bolList.filter((e=>0!==Object.keys(e).length)),(t=>((0,a.wg)(),(0,a.j4)("div",{key:t},[(0,a.Wm)(be,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Ue,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ye,{icon:"fas fa-minus-circle",color:"red",onClick:l=>e.deleteBol(t.bolNumber)},{default:(0,a.w5)((()=>[M])),_:2},1032,["onClick"])])),_:2},1024),(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,"BOL # "+(0,i.zw)(t.bolNumber),1),(0,a.Wm)("li",null,"Photo Attached "+(0,i.zw)(t.hasImage),1),(0,a.Wm)("li",null,"Loading Date "+(0,i.zw)(t.loadingDate),1),(0,a.Wm)("li",null,"Driver "+(0,i.zw)(t.driverName),1),(0,a.Wm)("li",null,"Carrier "+(0,i.zw)(t.carrier),1),(0,a.Wm)("li",null,"Terminal "+(0,i.zw)(t.terminal),1),(0,a.Wm)("li",null,"Supplier "+(0,i.zw)(t.supplier),1),(0,a.Wm)("li",null,"Tractor "+(0,i.zw)(t.tractor),1),(0,a.Wm)("li",null,"Trailer "+(0,i.zw)(t.trailer),1),(0,a.Wm)("li",null,"Tank "+(0,i.zw)(t.tank),1),(0,a.Wm)("li",null,"Product "+(0,i.zw)(t.product),1),(0,a.Wm)("li",null,"Gross "+(0,i.zw)(t.gross),1),(0,a.Wm)("li",null," Net "+(0,i.zw)(t.net),1)])])),_:2},1024)])),_:2},1024)])))),128))])])),_:1},8,["done"]),(0,a.Wm)(Ie,{name:2,title:"Delivery in progress",icon:"fas fa-poll-h",done:e.step>2,style:{"min-height":"200px"}},{default:(0,a.w5)((()=>[B,(0,a.Wm)("div",Z,[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.begTankReadings,(e=>((0,a.wg)(),(0,a.j4)("div",{key:e},[(0,a.Wm)(be,{style:{"min-width":"auto","min-height":"auto"}},{default:(0,a.w5)((()=>[(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Ne,{"show-value":"","font-size":"10px",class:"q-ml-lg q-mt-xs q-mr-lg no-pointer-events",modelValue:e.percentFull,"onUpdate:modelValue":t=>e.percentFull=t,size:"80px",thickness:.25,color:"primary","track-color":"grey-3",readonly:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Ce,{size:"60px",class:"no-pointer-events"},{default:(0,a.w5)((()=>[$])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue","thickness"]),(0,a.Wm)("div",Q,[(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[H,(0,a.Uk)(" "+(0,i.zw)(e.percentFull)+"%",1)]),(0,a.Wm)("li",null,[R,(0,a.Uk)(" "+(0,i.zw)(e.Tank_Number),1)]),(0,a.Wm)("li",null,[Y,(0,a.Uk)(" "+(0,i.zw)(e.Abbr),1)]),(0,a.Wm)("li",null,[K,(0,a.Uk)(" "+(0,i.zw)(e.Tank_Number),1)]),(0,a.Wm)("li",null,[J,(0,a.Uk)(" "+(0,i.zw)(e.Ullage),1)]),(0,a.Wm)("li",null,[X,(0,a.Uk)(" "+(0,i.zw)(e.Capacity),1)])])])])),_:2},1024)])),_:2},1024)])))),128))])])),_:1},8,["done"]),(0,a.Wm)(Ie,{name:3,title:"End Delivery",icon:"fas fa-flag-checkered",done:e.step>3,style:{"min-height":"200px"}},{default:(0,a.w5)((()=>[ee,(0,a.Wm)("div",te,[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.endTankReadings,(e=>((0,a.wg)(),(0,a.j4)("div",{key:e},[(0,a.Wm)(be,{style:{"min-width":"auto","min-height":"auto"}},{default:(0,a.w5)((()=>[(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Ne,{"show-value":"","font-size":"10px",class:"q-ml-lg q-mt-xs q-mr-lg no-pointer-events",modelValue:e.percentFull,"onUpdate:modelValue":t=>e.percentFull=t,size:"80px",thickness:.25,color:"primary","track-color":"grey-3",readonly:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Ce,{size:"60px",class:"no-pointer-events"},{default:(0,a.w5)((()=>[le])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue","thickness"]),(0,a.Wm)("div",ae,[(0,a.Wm)("ul",null,[(0,a.Wm)("li",{class:[87.54===e.percentFull?"redAlert":""]},[ie,(0,a.Uk)(" "+(0,i.zw)(e.percentFull)+"%",1)],2),(0,a.Wm)("li",null,[se,(0,a.Uk)(" "+(0,i.zw)(e.Tank_Number),1)]),(0,a.Wm)("li",null,[oe,(0,a.Uk)(" "+(0,i.zw)(e.Abbr),1)]),(0,a.Wm)("li",null,[re,(0,a.Uk)(" "+(0,i.zw)(e.Tank_Number),1)]),(0,a.Wm)("li",null,[ne,(0,a.Uk)(" "+(0,i.zw)(e.Ullage),1)]),(0,a.Wm)("li",null,[ue,(0,a.Uk)(" "+(0,i.zw)(e.Capacity),1)])])])])),_:2},1024)])),_:2},1024)])))),128))])])),_:1},8,["done"]),(0,a.Wm)(Ie,{name:4,title:"Delivery Complete",icon:"far fa-save",style:{"min-height":"200px"}},{default:(0,a.w5)((()=>[me])),_:1})])),_:1},8,["modelValue"])):((0,a.wg)(),(0,a.j4)(a.HY,{key:0},[this.testingArr.length>0?((0,a.wg)(),(0,a.j4)(a.HY,{key:0},[(0,a.Wm)(ke,{modelValue:e.locationPicker,"onUpdate:modelValue":t[3]||(t[3]=t=>e.locationPicker=t),persistent:"","transition-show":"slide-up","transition-hide":"rotate"},{default:(0,a.w5)((()=>[(0,a.Wm)(be,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[(0,a.Wm)("div",n,"You appear to be at Store "+(0,i.zw)(this.testingArr[0].StoreNumber),1)])),_:1}),(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[(0,a.Wm)("div",u,[m,(0,a.Uk)(" "+(0,i.zw)(this.testingArr[0].Address+", "+this.testingArr[0].City+", "+this.testingArr[0].State),1)]),d])),_:1}),(0,a.Wm)("div",c,[(0,a.Wm)(ye,{flat:"",label:"Yes",onClick:t[1]||(t[1]=t=>e.locationSelectedByPicker(this.testingArr[0].StoreNumber))}),(0,a.Wm)(ye,{flat:"",label:"No",onClick:t[2]||(t[2]=t=>e.declineFirstLocation())})])])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ke,{modelValue:e.locationPicker2,"onUpdate:modelValue":t[6]||(t[6]=t=>e.locationPicker2=t),persistent:"","transition-show":"slide-up","transition-hide":"rotate"},{default:(0,a.w5)((()=>[(0,a.Wm)(be,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[p,(0,a.Wm)("div",h,"You appear to be at Store "+(0,i.zw)(this.testingArr[1].StoreNumber),1)])),_:1}),(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[(0,a.Wm)("div",g,[w,(0,a.Uk)(" "+(0,i.zw)(this.testingArr[1].Address+", "+this.testingArr[1].City+", "+this.testingArr[1].State),1)]),y])),_:1}),(0,a.Wm)("div",b,[(0,a.Wm)(ye,{flat:"",label:"Yes",onClick:t[4]||(t[4]=t=>e.locationSelectedByPicker(this.testingArr[1].StoreNumber))}),(0,a.Wm)(ye,{flat:"",label:"No",onClick:t[5]||(t[5]=t=>e.declineSecondLocation())})])])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ke,{modelValue:e.locationPicker3,"onUpdate:modelValue":t[9]||(t[9]=t=>e.locationPicker3=t),persistent:"","transition-show":"slide-up","transition-hide":"rotate"},{default:(0,a.w5)((()=>[(0,a.Wm)(be,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[k])),_:1}),(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[(0,a.Wm)("div",v,[(0,a.Wm)(We,{filled:"",modelValue:e.storePickerValue,"onUpdate:modelValue":t[7]||(t[7]=t=>e.storePickerValue=t),dense:"",label:"Store Number",options:this.storeListArr,style:{width:"250px"}},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(fe,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ve,{class:"text-grey"},{default:(0,a.w5)((()=>[f])),_:1})])),_:1})])),_:1},8,["modelValue","options"])])])),_:1}),""!==this.storePickerValue.label?((0,a.wg)(),(0,a.j4)(a.HY,{key:0},[(0,a.Wm)("div",W,"Selected Store: "+(0,i.zw)(this.storePickerValue.label),1),(0,a.Wm)(we,null,{default:(0,a.w5)((()=>[(0,a.Wm)("div",_,[S,(0,a.Uk)(" "+(0,i.zw)(this.storePickerValue.Address+", "+this.storePickerValue.City+", "+this.storePickerValue.State),1)])])),_:1})],64)):(0,a.kq)("",!0),D,(0,a.Wm)("div",T,[(0,a.Wm)(ye,{flat:"",label:"Save",onClick:t[8]||(t[8]=t=>e.locationSelectedByPicker(e.storePickerValue.label.toString()))})])])),_:1})])),_:1},8,["modelValue"])],64)):(0,a.kq)("",!0)],64))])}var we=l(1959),ye=l(8603),be=l.n(ye);function ke(e,t,l,i,s,o){return(0,a.wg)(),(0,a.j4)("video",{ref:"video",width:e.width,height:e.height,src:e.source,autoplay:e.autoplay,playsinline:e.playsinline},null,8,["width","height","src","autoplay","playsinline"])}const ve=(0,a.aZ)({name:"VueWebCam",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:500},autoplay:{type:Boolean,default:!0},screenshotFormat:{type:String,default:"image/jpeg"},selectFirstDevice:{type:Boolean,default:!0},playsinline:{type:Boolean,default:!0},resolution:{type:Object,default:null,validator:e=>e.height&&e.width}},data(){return{source:null,canvas:null,camerasListEmitted:!1,cameras:[],deviceId:null}},watch:{deviceId:function(e){this.changeCamera(e)}},mounted(){console.log("am i even mounted?"),this.setupMedia()},beforeUnmount(){this.stop()},methods:{legacyGetUserMediaSupport(){return e=>{const t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;return t?new Promise((function(l,a){t.call(navigator,e,l,a)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}},setupMedia(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=this.legacyGetUserMediaSupport()),console.log("am I setup?"),this.testMediaAccess()},loadCameras(){navigator.mediaDevices.enumerateDevices().then((e=>{for(let t=0;t!==e.length;++t){const l=e[t];"videoinput"===l.kind&&this.cameras.push(l)}})).then((()=>{this.camerasListEmitted||(this.selectFirstDevice&&this.cameras.length>0&&(console.log(this.cameras[0].deviceId),this.deviceId=this.cameras[0].deviceId),console.log("emitting cameras"),this.$emit("cameras",this.cameras),this.camerasListEmitted=!0)})).catch((e=>{this.$emit("notsupported",e),console.log(e)}))},changeCamera(e){this.stop(),this.$emit("camera-change",e),this.loadCamera(e)},loadSrcStream(e){"srcObject"in this.$refs.video?this.$refs.video.srcObject=e:this.source=window.HTMLMediaElement.srcObject(e),this.$refs.video.onloadedmetadata=()=>{this.$emit("video-live",e)},this.$emit("started",e)},stopStreamedVideo(e){const t=e.srcObject,l=t.getTracks();l.forEach((e=>{e.stop(),this.$emit("stopped",t),this.$refs.video.srcObject=null,this.source=null}))},stop(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.stopStreamedVideo(this.$refs.video)},start(){this.deviceId&&this.loadCamera(this.deviceId)},pause(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.$refs.video.pause()},resume(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.$refs.video.play()},testMediaAccess(){const e={video:!0};this.resolution&&(e.video={},e.video.height=this.resolution.height,e.video.width=this.resolution.width),navigator.mediaDevices.getUserMedia(e).then((e=>{console.log("well i am here maybe?");const t=e.getTracks();t.forEach((e=>{e.stop()})),this.loadCameras()})).catch((e=>{this.$emit("error",e),console.log(e)}))},loadCamera(e){const t={video:{deviceId:{exact:e}}};this.resolution&&(t.video.height=this.resolution.height,t.video.width=this.resolution.width),navigator.mediaDevices.getUserMedia(t).then((e=>{this.loadSrcStream(e),console.log("I got here")})).catch((e=>this.$emit("error",e)))},capture(){return this.getCanvas().toDataURL(this.screenshotFormat)},getCanvas(){const e=this.$refs.video;if(!this.ctx){const t=document.createElement("canvas");t.height=e.videoHeight,t.width=e.videoWidth,this.canvas=t,this.ctx=t.getContext("2d")}const{ctx:t,canvas:l}=this;return t.drawImage(e,0,0,l.width,l.height),l}}});ve.render=ke;const fe=ve;var We=l(2942);const _e=(0,a.aZ)({name:"Delivery",inject:["storeMode"],components:{"vue-web-cam":fe},data(){const e={StoreNumber:null,Sequence:null,Division:null,DivisionName:"",Address:"",City:"",State:"",Zip:"",PhoneNumber:"",DateOpened:"",Latitude:"",Longitude:"",TimeZoneName:"",IsOpen:!1,IsTravelCenter:!1,ValidFrom:"",ValidTo:"",CreateUser:"",County:"",AutoMpdCount:null,TruckMpdCount:null,IsNsf:!1};return{step:1,takePhotoDialogPrompt:!1,takePhoto:!1,photoTaken:!1,imagePreviewDialog:!1,noThanksClicked:!1,tankLevel:30,locationSelected:!1,cleanedString:"",locationPicker:!0,entryForm:{bolNumber:"",carrier:"",driverName:"",tractor:"",trailer:"",terminal:"",supplier:"",tank:"",product:"",gross:"",net:"",splitLoadStore:"",hasImage:!1,loadingDate:(0,we.iH)(`${(new Date).toISOString().replace("T"," ").replace("Z","").slice(0,-4)}`),BolImage:""},isSplitLoad:!1,bolList:[{}],terminalOptions:["Magellan #1 Texarkana","Magellan #2 Texahoma","Marathon - Zimbabwe","CITGO - CITGO Real Fast"],supplierOptions:["QT Fuels Inventory","Direct Fuels Rack","ExxonMobil Rack","ExxonMobil Contract","Flint Hills Rack","Flint Hills Day Deal"],tankOptions:["Tanks 1,2 UNLEADED","Tank 3 PREMIUM","Tank 4 DIESEL-AUTO","Tank 5 UNL-NO-ETHANOL"],productOptions:["UNL-NO-ETHANOL","UNLEADED","PREMIUM","DIESEL-AUTO","BLEND MID-GRADE UNLEADED"],splitLoadStoreOptions:["310","313","314","315","316","320","321","322","326","327","328","329","343","345","347","349","353","356","357","358","359","360","363","366","368","369","372","373","374","376","378","383","384","386","388","389","391","394","396"],carrierOptions:["Groendyke","United Petroleum Transport","Star Transport","Other"],driverOptions:['Steven "GasBoy" Jones',"Bill Spilldude","Daniel Jackson","Skim Beeble"],begTankReadings:[{Entry_ID:482765075,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4826592-05:00",Successfull:1,Tank_Number:1,Gallons:6956,Ullage:12825,Inches:45.81,Temperature:76.21,Water:0,Capacity:19782,LowFuel1:750,LowFuel2:2e3,LowFuel3:3e3,LowFuel4:4e3,Grade:2,Abbr:"UNLE10",EPA_Tank_ID:2013121701,Avg_Sales:8012,IsUtc:!0,percentFull:35.16},{Entry_ID:482765076,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4866490-05:00",Successfull:1,Tank_Number:2,Gallons:7113,Ullage:12668,Inches:46.55,Temperature:75.73,Water:0,Capacity:19782,LowFuel1:750,LowFuel2:2e3,LowFuel3:3e3,LowFuel4:4e3,Grade:2,Abbr:"UNLE10",EPA_Tank_ID:2013121701,Avg_Sales:8012,IsUtc:!0,percentFull:35.95},{Entry_ID:482765077,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4896407-05:00",Successfull:1,Tank_Number:3,Gallons:3401,Ullage:6079,Inches:45.91,Temperature:76.11,Water:0,Capacity:9481,LowFuel1:750,LowFuel2:2e3,LowFuel3:3e3,LowFuel4:4e3,Grade:5,Abbr:"PREE10",EPA_Tank_ID:2013121702,Avg_Sales:1234,IsUtc:!0,percentFull:35.87},{Entry_ID:482765078,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4936297-05:00",Successfull:1,Tank_Number:4,Gallons:4108,Ullage:7499,Inches:35.05,Temperature:79.41,Water:0,Capacity:11608,LowFuel1:750,LowFuel2:2e3,LowFuel3:3e3,LowFuel4:4e3,Grade:13,Abbr:"DSL",EPA_Tank_ID:2013121703,Avg_Sales:642,IsUtc:!0,percentFull:35.38},{Entry_ID:482765079,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4966222-05:00",Successfull:1,Tank_Number:5,Gallons:1239,Ullage:9181,Inches:22.34,Temperature:75.87,Water:.48,Capacity:10420,LowFuel1:750,LowFuel2:1250,LowFuel3:1500,LowFuel4:2e3,Grade:1,Abbr:"UNLEAD",EPA_Tank_ID:2013121704,Avg_Sales:222,IsUtc:!0,percentFull:11.89}],endTankReadings:[{Entry_ID:482765075,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4826592-05:00",Successfull:1,Tank_Number:1,Gallons:6956,Ullage:12825,Inches:45.81,Temperature:76.21,Water:0,Capacity:19782,LowFuel1:750,LowFuel2:2e3,LowFuel3:3e3,LowFuel4:4e3,Grade:2,Abbr:"UNLE10",EPA_Tank_ID:2013121701,Avg_Sales:8012,IsUtc:!0,percentFull:35.16},{Entry_ID:482765076,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4866490-05:00",Successfull:1,Tank_Number:2,Gallons:7113,Ullage:12668,Inches:46.55,Temperature:75.73,Water:0,Capacity:19782,LowFuel1:750,LowFuel2:2e3,LowFuel3:3e3,LowFuel4:4e3,Grade:2,Abbr:"UNLE10",EPA_Tank_ID:2013121701,Avg_Sales:8012,IsUtc:!0,percentFull:35.95},{Entry_ID:482765077,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4896407-05:00",Successfull:1,Tank_Number:3,Gallons:3401,Ullage:6079,Inches:45.91,Temperature:76.11,Water:0,Capacity:9481,LowFuel1:750,LowFuel2:2e3,LowFuel3:3e3,LowFuel4:4e3,Grade:5,Abbr:"PREE10",EPA_Tank_ID:2013121702,Avg_Sales:1234,IsUtc:!0,percentFull:35.87},{Entry_ID:482765078,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4936297-05:00",Successfull:1,Tank_Number:4,Gallons:4108,Ullage:7499,Inches:35.05,Temperature:79.41,Water:0,Capacity:11608,LowFuel1:750,LowFuel2:2e3,LowFuel3:3e3,LowFuel4:4e3,Grade:13,Abbr:"DSL",EPA_Tank_ID:2013121703,Avg_Sales:642,IsUtc:!0,percentFull:35.38},{Entry_ID:482765079,Store_Number:366,Sequence:9997,Division:3,Entry_Date_Time:"2021-08-23T16:16:38.4966222-05:00",Successfull:1,Tank_Number:5,Gallons:9122,Ullage:9181,Inches:22.34,Temperature:75.87,Water:.48,Capacity:10420,LowFuel1:750,LowFuel2:1250,LowFuel3:1500,LowFuel4:2e3,Grade:1,Abbr:"UNLEAD",EPA_Tank_ID:2013121704,Avg_Sales:222,IsUtc:!0,percentFull:87.54}],firstStores:[],store:e,testingArr:[],selectedStore:"",locationPicker2:!1,locationPicker3:!1,storesList:[],storePickerValue:{label:""}}},methods:{onSubmit(){return 1},onReset(){return 1},locationSelectedByPicker(e){this.locationSelected=!0,this.selectedStore=e},declineFirstLocation(){this.locationPicker=!1,this.locationPicker2=!0},declineSecondLocation(){this.locationPicker2=!1,this.locationPicker3=!0},addBolToDelivery(e){this.noThanksClicked=!1,this.takePhotoDialogPrompt=!1,this.photoTaken=!1;const t=Object.assign({},e);this.bolList.push(t),this.entryForm={bolNumber:"",carrier:"",driverName:"",tractor:"",trailer:"",terminal:"",supplier:"",tank:"",product:"",gross:"",net:"",splitLoadStore:"",hasImage:!1,loadingDate:(0,we.iH)(`${(new Date).toISOString().replace("T"," ").replace("Z","").slice(0,-4)}`).value,BolImage:""}},deleteBol(e){this.bolList=be().remove(this.bolList,(function(t){return t.bolNumber!==e}))},snapPhoto(){const e=this,t=e.$refs.webcam.capture().replace("data:image/jpeg;base64,","");return this.imagePreviewDialog=!0,this.cleanedString=t},saveImageToBol(e){this.entryForm.hasImage=!0,this.entryForm.BolImage=e,this.takePhoto=!1,this.imagePreviewDialog=!1,this.photoTaken=!0}},computed:{filteredBolList(){const e=this.bolList.filter((e=>0!==Object.keys(e).length));return e},storeListArr(){return be().orderBy(Object.values(this.storesList).map((e=>({label:e.StoreNumber,value:e.StoreNumber,Address:e.Address,City:e.City,State:e.State}))),["label"],["asc"])}},created(){We.db.collection("storeInfo").where("StoreNumber","in",[366,383]).onSnapshot((e=>{this.testingArr=[],e.docs.forEach((e=>{this.testingArr.push(e.data())}))})),We.db.collection("storeInfo").onSnapshot((e=>{this.storesList=[],e.docs.forEach((e=>{this.storesList.push(be().pick(e.data(),["StoreNumber","Address","City","State"]))}))}))}});var Se=l(6778),De=l(151),Te=l(5589),Fe=l(8240),Le=l(8516),Ue=l(3414),xe=l(2035),Ve=l(3518),Pe=l(4340),Ie=l(8689),Ce=l(4842),Ne=l(4554),Ae=l(3944),Ee=l(5626),qe=l(5990),ze=l(8870),Oe=l(9367),je=l(4027),Ge=l(8836),Me=l(5096),Be=l(118),Ze=l(5607),$e=l(677),Qe=l(7518),He=l.n(Qe);_e.render=ge;const Re=_e;He()(_e,"components",{QDialog:Se.Z,QCard:De.Z,QCardSection:Te.Z,QBtn:Fe.Z,QSelect:Le.Z,QItem:Ue.Z,QItemSection:xe.Z,QStepper:Ve.Z,QStep:Pe.Z,QForm:Ie.Z,QInput:Ce.Z,QIcon:Ne.Z,QPopupProxy:Ae.Z,QDate:Ee.Z,QTime:qe.Z,QTooltip:ze.Z,QCardActions:Oe.Z,QImg:je.Z,QKnob:Ge.Z,QAvatar:Me.Z,QStepperNavigation:Be.Z,QBanner:Ze.Z}),He()(_e,"directives",{ClosePopup:$e.Z})},9454:(e,t,l)=>{e.exports=l.p+"img/dinojuice.4de2cb4d.png"}}]);